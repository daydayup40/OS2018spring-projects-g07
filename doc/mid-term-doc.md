# syzkaller系统测试工具在ucore+上的移植-课程设计方案报告

计52 王纪霆 匡正非

## 项目概述

我们的目标是将[syzkaller](https://github.com/google/syzkaller)移植到ucore+上，并以此为工具对ucore+的系统调用进行调试，发现其中的bug。然而经过调研，这一目标过于庞大，不可能在一学期间完成，因此我们将项目拆分成较小的部分，目标是尽量实现syzkaller所需要的软件环境。

具体而言，各级目标包括:

+ go1.8+在ucore+上的基本移植；
+ 实现syzkaller所需的golang package；
+ 实现syzkaller所需的其他操作系统功能（外部工具、文件系统）
+ 完成最终调试

## 已有工作调研

### golang移植的已有工作

golang目前已有向ucore的移植工作，但其版本过于落后，已与现在的go1.10从工具链到项目结构上都完全不同。此外，ucore也只是原始的，不包含ucore+的较弱版本，这远不能够满足syzkaller的需求(go version > 1.8)。

golang目前支持了所有主流操作系统，其中linux上的实现可以为我们提供很好的参考效果，因为ucore本身的接口和实现都与linux有相似之处。

### syzkaller的已有工作

作为一个较新的系统，目前syzkaller已经支持了主流操作系统，但是都是功能全面、比较复杂的系统，在ucore+这个较小的系统上还没有移植实现。因此，这方面可以作为参考的工作不多。

## 工具分析

### golang的编译工具链分析

golang的编译步骤包括以下部分:

+ 使用go1.4中的一个微缩go编译器bootstrap，编译go1.10中的新版编译工具；
+ 使用go1.10中的编译工具，将各与操作系统/平台相关的包进行编译，形成完整的编译工具
+ 使用编译工具对目标文件编译，产生elf格式的可执行文件，即可在ucore中执行

其中，从编译、链接，乃至一部分源代码的生成都是由其项目中的工具实现的，在工程性良好的同时也增大了复杂性。

### syzkaller的依赖分析



## 设计方案

## 小组分工

## 目前工作

